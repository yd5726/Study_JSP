<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">
	<!-- 로그인 조회 -->
	<select id="login" resultType="member.MemberDTO">
		select * from member where userid = #{id} and userpw = #{pw}
	</select>
	
	<!-- 아이디 존재여부 조회 -->
	<select id="userid_exist" resultType="Integer">
		select count(userid) from member where userid = #{id}
	</select>
	
	<!-- 회원 정보 신규 삽입 -->
	<insert id="insert">
		insert into member(userid, userpw, name, gender, email, birth, phone, post, address, social, profile) 
		values(#{userid},#{userpw, jdbcType=VARCHAR}, 
				#{name},#{gender},#{email, jdbcType=VARCHAR}, 
				#{birth, jdbcType=VARCHAR},#{phone, jdbcType=VARCHAR},
				#{post, jdbcType=VARCHAR},#{address, jdbcType=VARCHAR},
				#{social, jdbcType=VARCHAR},#{profile, jdbcType=VARCHAR})
	</insert>
	
	<!-- 회원 정보 변경 삽입 -->
	<update id="update">
		update member
		set name = #{name}, gender = #{gender}, email = #{email, jdbcType=VARCHAR}, 
			birth = #{birth, jdbcType=VARCHAR}, phone = #{phone, jdbcType=VARCHAR}, 
			post = #{post, jdbcType=VARCHAR}, address = #{address, jdbcType=VARCHAR}, 
			profile = #{profile, jdbcType=VARCHAR} 
		where userid = #{userid}
	</update>
</mapper>